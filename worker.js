const _0x31a1b3=_0x5e1f;(function(_0x538c44,_0xc00ee9){const _0x573341=_0x5e1f,_0x10797c=_0x538c44();while(!![]){try{const _0x2bc664=parseInt(_0x573341(0x157))/0x1*(-parseInt(_0x573341(0x131))/0x2)+parseInt(_0x573341(0x14c))/0x3*(-parseInt(_0x573341(0x161))/0x4)+parseInt(_0x573341(0x17a))/0x5*(parseInt(_0x573341(0x144))/0x6)+-parseInt(_0x573341(0x149))/0x7+-parseInt(_0x573341(0x137))/0x8+parseInt(_0x573341(0x14b))/0x9*(-parseInt(_0x573341(0x15d))/0xa)+parseInt(_0x573341(0x178))/0xb*(parseInt(_0x573341(0x152))/0xc);if(_0x2bc664===_0xc00ee9)break;else _0x10797c['push'](_0x10797c['shift']());}catch(_0xe18752){_0x10797c['push'](_0x10797c['shift']());}}}(_0xdf56,0xe9dfa));import{connect}from'cloudflare:sockets';let 编码马='vl',编码驴='ess',符号='://',土匪订阅暗号=_0x31a1b3(0x17c),老子天下第一VL密钥=_0x31a1b3(0x148),匪钥开关=![],暗门通天匪钥='',隐世匪踪大法=![],嘲讽你个菜鸡语录=_0x31a1b3(0x146),土匪亲爹专线=[''],地下黑话线路簿=[''],兜底抢道模式=!![],备胎匪窝地址='proxyip.zone.id',转山调水穿云术=!![],匪窝的传说之名=_0x31a1b3(0x14a);const 掏出环境变量=(_0x515b4a,_0x3b8186,_0x3cb7bf)=>{const _0x5c5710=_0x31a1b3,_0xd41b6d=import.meta?.[_0x5c5710(0x179)]?.[_0x515b4a]??_0x3cb7bf?.[_0x515b4a];if(_0xd41b6d===undefined||_0xd41b6d===null||_0xd41b6d==='')return _0x3b8186;if(typeof _0xd41b6d===_0x5c5710(0x159)){const _0x5abb35=_0xd41b6d[_0x5c5710(0x171)]();if(_0x5abb35===_0x5c5710(0x135))return!![];if(_0x5abb35===_0x5c5710(0x163))return![];if(_0x5abb35['includes']('\x0a'))return _0x5abb35[_0x5c5710(0x164)]('\x0a')['map'](_0x541c5f=>_0x541c5f[_0x5c5710(0x171)]())[_0x5c5710(0x155)](Boolean);if(!isNaN(_0x5abb35)&&_0x5abb35!=='')return Number(_0x5abb35);return _0x5abb35;}return _0xd41b6d;};function 把四段云雾转六段(_0x45f4bb){const _0x28141f=_0x31a1b3,_0x37e0da=_0x45f4bb[_0x28141f(0x164)]('.');if(_0x37e0da[_0x28141f(0x147)]!==0x4)throw new Error(_0x28141f(0x166));const _0x131add=_0x37e0da[_0x28141f(0x175)](_0x3bccd4=>Number(_0x3bccd4)['toString'](0x10)[_0x28141f(0x14d)](0x2,'0'));return'[2001:67c:2960:6464::'+_0x131add[0x0]+_0x131add[0x1]+':'+_0x131add[0x2]+_0x131add[0x3]+']';}function _0x5e1f(_0x198d49,_0x654e3f){const _0xdf56a=_0xdf56();return _0x5e1f=function(_0x5e1f82,_0x413adc){_0x5e1f82=_0x5e1f82-0x12b;let _0x231d58=_0xdf56a[_0x5e1f82];return _0x231d58;},_0x5e1f(_0x198d49,_0x654e3f);}async function 解域穿雾出IPv6(_0x45a86f){const _0x37cbb4=_0x31a1b3,_0x3ef7f7=await fetch(_0x37cbb4(0x174)+_0x45a86f+'&type=A',{'headers':{'Accept':'application/dns-json'}}),_0x43ff65=await _0x3ef7f7[_0x37cbb4(0x16f)](),_0x399e53=_0x43ff65['Answer']?.[_0x37cbb4(0x156)](_0x1787f6=>_0x1787f6[_0x37cbb4(0x16d)]===0x1);if(!_0x399e53)throw new Error(_0x37cbb4(0x130));return 把四段云雾转六段(_0x399e53[_0x37cbb4(0x16c)]);}export default{async 'fetch'(_0x2ad573,_0x578168){const _0x59f4b5=_0x31a1b3;土匪订阅暗号=掏出环境变量('ID',土匪订阅暗号,_0x578168),老子天下第一VL密钥=掏出环境变量(_0x59f4b5(0x173),老子天下第一VL密钥,_0x578168),土匪亲爹专线=掏出环境变量('IP',土匪亲爹专线,_0x578168),地下黑话线路簿=掏出环境变量(_0x59f4b5(0x141),地下黑话线路簿,_0x578168),备胎匪窝地址=掏出环境变量('PROXYIP',备胎匪窝地址,_0x578168),暗门通天匪钥=掏出环境变量('匪钥',暗门通天匪钥,_0x578168),隐世匪踪大法=掏出环境变量('隐藏',隐世匪踪大法,_0x578168),匪钥开关=掏出环境变量(_0x59f4b5(0x12d),匪钥开关,_0x578168),嘲讽你个菜鸡语录=掏出环境变量(_0x59f4b5(0x132),嘲讽你个菜鸡语录,_0x578168),兜底抢道模式=掏出环境变量(_0x59f4b5(0x160),兜底抢道模式,_0x578168),转山调水穿云术=掏出环境变量(_0x59f4b5(0x138),转山调水穿云术,_0x578168),匪窝的传说之名=掏出环境变量('我的节点名字',匪窝的传说之名,_0x578168);const _0xd18570=_0x2ad573[_0x59f4b5(0x15b)][_0x59f4b5(0x14f)](_0x59f4b5(0x134)),_0xc7536b=new URL(_0x2ad573[_0x59f4b5(0x158)]);if(!_0xd18570||_0xd18570!==_0x59f4b5(0x12e)){if(地下黑话线路簿){const _0x1e7a58=Array[_0x59f4b5(0x139)](地下黑话线路簿)?地下黑话线路簿:[地下黑话线路簿],_0x1c78ea=[];for(const _0x316d10 of _0x1e7a58){try{const _0x4e6e50=await fetch(_0x316d10),_0x5ed76e=await _0x4e6e50[_0x59f4b5(0x151)](),_0x285772=_0x5ed76e[_0x59f4b5(0x164)]('\x0a')['map'](_0x429db8=>_0x429db8[_0x59f4b5(0x171)]())[_0x59f4b5(0x155)](_0x3a5fa8=>_0x3a5fa8);_0x1c78ea[_0x59f4b5(0x172)](..._0x285772);}catch(_0x5a9b8f){console['warn']('这条黑话线路挂了：'+_0x316d10,_0x5a9b8f);}}if(_0x1c78ea['length']>0x0)土匪亲爹专线=_0x1c78ea;}switch(_0xc7536b['pathname']){case'/'+土匪订阅暗号:return new Response(给我订阅的土匪菜单(土匪订阅暗号,_0x2ad573['headers'][_0x59f4b5(0x14f)]('Host')),{'status':0xc8,'headers':{'Content-Type':_0x59f4b5(0x150)}});case'/'+土匪订阅暗号+'/'+编码马+编码驴:if(隐世匪踪大法)return new Response(嘲讽你个菜鸡语录,{'status':0xc8,'headers':{'Content-Type':_0x59f4b5(0x150)}});return new Response(给我通用的山头配置(_0x2ad573[_0x59f4b5(0x15b)]['get'](_0x59f4b5(0x16b))),{'status':0xc8,'headers':{'Content-Type':_0x59f4b5(0x150)}});default:return new Response('山寨欢迎你，但你找错路了',{'status':0xc8});}}else{if(匪钥开关){const _0x107656=_0x2ad573[_0x59f4b5(0x15b)]['get']('my-key');if(_0x107656!==暗门通天匪钥)return new Response('暗门未开，滚',{'status':0x193});}const _0x3305c4=_0x2ad573[_0x59f4b5(0x15b)][_0x59f4b5(0x14f)](_0x59f4b5(0x13c)),_0x3b5c65=解64位密(_0x3305c4);if(把密钥还原成UUID(new Uint8Array(_0x3b5c65[_0x59f4b5(0x142)](0x1,0x11)))!==老子天下第一VL密钥)return new Response(_0x59f4b5(0x13e),{'status':0x193});const {tcpSocket:_0x323162,initialData:_0x2f6834}=await 拆VL头接隧道(_0x3b5c65);return await 升级为匪徒专线(_0x2ad573,_0x323162,_0x2f6834);}}};async function 升级为匪徒专线(_0x5e6099,_0x44015d,_0x10e1fd){const _0x12d885=_0x31a1b3,{0x0:_0x2cd674,0x1:_0x2c759e}=new WebSocketPair();return _0x2c759e[_0x12d885(0x16a)](),匪窝之间搭桥(_0x2c759e,_0x44015d,_0x10e1fd),new Response(null,{'status':0x65,'webSocket':_0x2cd674});}function 解64位密(_0x32d3f8){const _0x4d2cba=_0x31a1b3;return _0x32d3f8=_0x32d3f8[_0x4d2cba(0x16e)](/-/g,'+')[_0x4d2cba(0x16e)](/_/g,'/'),Uint8Array[_0x4d2cba(0x15c)](atob(_0x32d3f8),_0x4abd53=>_0x4abd53['charCodeAt'](0x0))[_0x4d2cba(0x13f)];}function _0xdf56(){const _0x35dd28=['匪钥开关','websocket','join','查不到，劝你别装了','28egBQEa','嘲讽语','&sni=','Upgrade','true','writable','11874664QxNHTK','NAT64','isArray','getWriter','cancel','sec-websocket-protocol','你都IPv6了，还穿个屁云？','密钥都不对，你来搞笑？','buffer','read','TXT','slice','close','6UUMWAb','includes','你找到了我又怎样？别说话，菜鸡。','length','43e98b07-d6d5-4212-a45c-7ed9f6bd5d25','13070736mgtgJA','天书暴躁版','12185739UUxmlm','84vnwEGE','padStart','pop','get','text/plain;charset=utf-8','text','1105284baEcii','test','message','filter','find','7918bBdnHa','url','string','getReader','headers','from','10wcRtVc',':443#山寨默认','security=none','兜底开关','130544ngriMi','fill','false','split','send','这IP怕是假的吧？','\x0a你想要进山头，得先过我这道菜单：\x0a通用链接：https','write','opened','accept','Host','data','type','replace','json','&path=%2F%3Fed%3D2560#','trim','push','UUID','https://1.1.1.1/dns-query?name=','map','releaseLock','你这钥匙还没关，关了再说','671rDGPCD','env','5348155vfpfAr','toString','9981','getUint16','decode','&type=ws&host='];_0xdf56=function(){return _0x35dd28;};return _0xdf56();}async function 拆VL头接隧道(_0x13d9e2){const _0xe9feb4=_0x31a1b3,_0xbb97ad=new DataView(_0x13d9e2),_0x12c9ee=new Uint8Array(_0x13d9e2),_0x3b5e5c=_0x12c9ee[0x11],_0x460a5e=_0xbb97ad[_0xe9feb4(0x17d)](0x12+_0x3b5e5c+0x1);let _0x44dc62=0x12+_0x3b5e5c+0x4,_0x1ebf9b;if(_0x12c9ee[_0x44dc62-0x1]===0x1)_0x1ebf9b=Array[_0xe9feb4(0x15c)](_0x12c9ee[_0xe9feb4(0x142)](_0x44dc62,_0x44dc62+0x4))['join']('.'),_0x44dc62+=0x4;else{if(_0x12c9ee[_0x44dc62-0x1]===0x2){const _0x3b4ad2=_0x12c9ee[_0x44dc62];_0x1ebf9b=new TextDecoder()[_0xe9feb4(0x12b)](_0x12c9ee[_0xe9feb4(0x142)](_0x44dc62+0x1,_0x44dc62+0x1+_0x3b4ad2)),_0x44dc62+=_0x3b4ad2+0x1;}else{const _0x526e33=new DataView(_0x13d9e2);_0x1ebf9b=Array(0x8)[_0xe9feb4(0x162)]()[_0xe9feb4(0x175)]((_0x584289,_0x22aa6f)=>_0x526e33[_0xe9feb4(0x17d)](_0x44dc62+0x2*_0x22aa6f)[_0xe9feb4(0x17b)](0x10))[_0xe9feb4(0x12f)](':'),_0x44dc62+=0x10;}}const _0x15f8fb=_0x13d9e2[_0xe9feb4(0x142)](_0x44dc62);try{const _0x11f9d2=await connect({'hostname':_0x1ebf9b,'port':_0x460a5e});return await _0x11f9d2[_0xe9feb4(0x169)],{'tcpSocket':_0x11f9d2,'initialData':_0x15f8fb};}catch{}if(转山调水穿云术)try{let _0x3832d7;if(/^\d+\.\d+\.\d+\.\d+$/[_0xe9feb4(0x153)](_0x1ebf9b))_0x3832d7=把四段云雾转六段(_0x1ebf9b);else{if(_0x1ebf9b[_0xe9feb4(0x145)](':'))throw new Error(_0xe9feb4(0x13d));else _0x3832d7=await 解域穿雾出IPv6(_0x1ebf9b);}const _0x441a11=await connect({'hostname':_0x3832d7[_0xe9feb4(0x16e)](/^["'`]+|["'`]+$/g,''),'port':_0x460a5e});return await _0x441a11[_0xe9feb4(0x169)],{'tcpSocket':_0x441a11,'initialData':_0x15f8fb};}catch{}if(!兜底抢道模式||!备胎匪窝地址)throw Error('兄弟，跑路失败了');const [_0x2c0ab0,_0x1e4dce]=备胎匪窝地址[_0xe9feb4(0x164)](':'),_0x53de08=await connect({'hostname':_0x2c0ab0,'port':Number(_0x1e4dce)||_0x460a5e});return await _0x53de08[_0xe9feb4(0x169)],{'tcpSocket':_0x53de08,'initialData':_0x15f8fb};}async function 匪窝之间搭桥(_0x225c53,_0x2a1368,_0x174f2c){const _0x7e87cb=_0x31a1b3;_0x225c53[_0x7e87cb(0x165)](new Uint8Array([0x0,0x0]));const _0x34e8d6=_0x2a1368[_0x7e87cb(0x136)][_0x7e87cb(0x13a)](),_0x2ded1=_0x2a1368['readable'][_0x7e87cb(0x15a)]();if(_0x174f2c)await _0x34e8d6[_0x7e87cb(0x168)](_0x174f2c);_0x225c53['addEventListener'](_0x7e87cb(0x154),_0x9fa7c7=>_0x34e8d6[_0x7e87cb(0x168)](_0x9fa7c7['data']));try{while(!![]){const {value:_0x4954a6,done:_0xce50f5}=await _0x2ded1[_0x7e87cb(0x140)]();if(_0xce50f5)break;if(_0x4954a6)_0x225c53[_0x7e87cb(0x165)](_0x4954a6);}}finally{try{_0x225c53[_0x7e87cb(0x143)]();}catch{}try{_0x2ded1[_0x7e87cb(0x13b)]();}catch{}try{_0x34e8d6[_0x7e87cb(0x176)]();}catch{}_0x2a1368[_0x7e87cb(0x143)]();}}function 把密钥还原成UUID(_0x1691ad){const _0x825c06=_0x31a1b3,_0x5c5d1d=Array[_0x825c06(0x15c)](_0x1691ad,_0x5aa3b7=>_0x5aa3b7['toString'](0x10)[_0x825c06(0x14d)](0x2,'0'))[_0x825c06(0x12f)]('');return _0x5c5d1d[_0x825c06(0x142)](0x0,0x8)+'-'+_0x5c5d1d[_0x825c06(0x142)](0x8,0xc)+'-'+_0x5c5d1d[_0x825c06(0x142)](0xc,0x10)+'-'+_0x5c5d1d['slice'](0x10,0x14)+'-'+_0x5c5d1d[_0x825c06(0x142)](0x14);}function 给我订阅的土匪菜单(_0x289903,_0x55c813){const _0x228f67=_0x31a1b3;return _0x228f67(0x167)+符号+_0x55c813+'/'+_0x289903+'/'+编码马+编码驴+'\x0a';}function 给我通用的山头配置(_0x3cbea9){const _0x2f5806=_0x31a1b3;土匪亲爹专线[_0x2f5806(0x172)](_0x3cbea9+_0x2f5806(0x15e));if(匪钥开关)return _0x2f5806(0x177);return 土匪亲爹专线[_0x2f5806(0x175)](_0x25a25b=>{const _0x43ea9f=_0x2f5806,[_0x134ebc,_0x29c1c1]=_0x25a25b[_0x43ea9f(0x164)]('@'),[_0x4fff2f,_0x403413=匪窝的传说之名]=_0x134ebc[_0x43ea9f(0x164)]('#'),_0x133f3f=_0x4fff2f[_0x43ea9f(0x164)](':'),_0x3cd9d2=_0x133f3f[_0x43ea9f(0x147)]>0x1?Number(_0x133f3f[_0x43ea9f(0x14e)]()):0x1bb,_0x59ba27=_0x133f3f[_0x43ea9f(0x12f)](':'),_0x3a0fc1=_0x29c1c1==='notls'?_0x43ea9f(0x15f):'security=tls';return''+编码马+编码驴+符号+老子天下第一VL密钥+'@'+_0x59ba27+':'+_0x3cd9d2+'?encryption=none&'+_0x3a0fc1+_0x43ea9f(0x133)+_0x3cbea9+_0x43ea9f(0x12c)+_0x3cbea9+_0x43ea9f(0x170)+_0x403413;})[_0x2f5806(0x12f)]('\x0a');}
